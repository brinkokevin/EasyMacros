"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[777],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),l=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),u=l(n),p=r,h=u["".concat(s,".").concat(p)]||u[p]||m[p]||a;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=p;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d[u]="string"==typeof e?e:r,i[1]=d;for(var l=2;l<a;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},27315:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>d,toc:()=>l});var o=n(87462),r=(n(67294),n(3905));const a={sidebar_position:4},i="How macros work",d={unversionedId:"Render",id:"Render",title:"How macros work",description:"The render function",source:"@site/docs/Render.md",sourceDirName:".",slug:"/Render",permalink:"/EasyMacros/docs/Render",draft:!1,editUrl:"https://github.com/brinkokevin/EasyMacros/edit/main/docs/Render.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Examples",permalink:"/EasyMacros/docs/Examples"},next:{title:"Custom Widgets",permalink:"/EasyMacros/docs/CustomWidgets"}},s={},l=[{value:"The <code>render</code> function",id:"the-render-function",level:2},{value:"What is immediate mode?",id:"what-is-immediate-mode",level:3},{value:"Advantages",id:"advantages",level:3}],c={toc:l},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-macros-work"},"How macros work"),(0,r.kt)("h2",{id:"the-render-function"},"The ",(0,r.kt)("inlineCode",{parentName:"h2"},"render")," function"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"render")," function is the heart of your macro. It's called every frame, and it's where you define the UI components of your macro. The ",(0,r.kt)("inlineCode",{parentName:"p"},"render")," function receives an ",(0,r.kt)("inlineCode",{parentName:"p"},"api")," object as an argument, which provides functions for creating UI components."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'local function render(api)\n    api.label("Hello, World!")\nend\n')),(0,r.kt)("p",null,"Easy Macros uses a modified version of ",(0,r.kt)("inlineCode",{parentName:"p"},"Plasma"),", an immediate mode UI library."),(0,r.kt)("p",null,"Here are some important bits from the Plasma documentation."),(0,r.kt)("h3",{id:"what-is-immediate-mode"},"What is immediate mode?"),(0,r.kt)("p",null,"Plasma is an immediate mode UI library, as opposed to retained mode."),(0,r.kt)("p",null,"In a retained mode model, you might make a button and connect a clicked event, with code that is invoked when the event happens. The button is retained in the DataModel, and to change the text on it, you need to store a reference to it."),(0,r.kt)("p",null,"But under an immediate mode model, you show the button and check if it's been clicked immediately, and you do that every single frame (60 times per second). There's no need for a clicked event or to store a reference to the button."),(0,r.kt)("p",null,"As another example, let's say you had a window that you only wanted to be shown when it was visible. In retained mode, you would create the window and store a reference to the window. When the button to toggle visibility is toggled, you use the reference to the window to make it visible or not."),(0,r.kt)("p",null,"In immediate mode, it's much simpler: you just check if the window should be rendered with an if statement and render the window inside the if statement. That's it: if the window wasn't supposed to be rendered, you just never call the code to render the window."),(0,r.kt)("h3",{id:"advantages"},"Advantages"),(0,r.kt)("p",null,"The main advantage of immediate mode is that code becomes vastly simpler:"),(0,r.kt)("p",null,"You never need to have any on-click handlers and callbacks that disrupt your code flow.\nYou don't have to worry about a lingering callback calling something that is gone.\nYour GUI code can easily live in a simple function (no need for an object just for the UI).\nYou don't have to worry about the world and GUI state being out-of-sync (i.e., the GUI showing something outdated), because the GUI isn't storing any state - it is showing the latest state immediately.\nIn other words, a whole lot of code, complexity, and bugs are gone, and you can focus your time on something more interesting than writing GUI code."),(0,r.kt)("p",null,"To learn more, check out the ",(0,r.kt)("a",{parentName:"p",href:"https://eryn.io/plasma/docs/intro"},"Plasma documentation"),"."))}m.isMDXComponent=!0}}]);